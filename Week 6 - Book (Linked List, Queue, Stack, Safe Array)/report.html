<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8"/>
<meta name="Submission" content="/tmp/codecheck/17101922052008242559456661465/submission"/>
<meta name="Problem" content="1710072317eln17edarc25aqtdwg528ocf2"/>
<meta name="Level" content="1"/>
<meta name="Time" content="2017-10-19T22:05:08Z"/>
<meta name="ID" content="Book"/>
<meta name="Elapsed" content="6596 ms"/>
<style type="text/css">
.header {font-weight: bold; font-size: 1.2em; }
.item {font-weight: bold;}
.pass {color: green;}
.fail {color: red;}
.note {color: blue; font-weight: bold;}
table.file td {padding-right: 1em; background: #FFF; }
.linenumber {color: gray;}
.footnote {font-size: 0.7em;}
table {font-size: 0.9em;}
td, th { background: #EEE; margin: 0.5em; padding: 0.25em;}
table.output td {vertical-align: top;}
div.footnotes { border-top: 1px solid gray; padding-top: 0.5em; }
</style>
<title>Report</title>
</head>
<body>
<p class="header run">Testing BookListsApp.cpp</p>
<div class="run">
<pre class="output">
</pre>
<pre class="output">
Book list: science

 Book{ISBN=978-0130460417, last=Mak, first=Ronald, title=Java Number Cruncher}
 Book{ISBN=978-0134177304, last=Horstmann, first=Cay, title=Core Java Volume I--Fundamentals}
 Book{ISBN=978-0470177075, last=Mak, first=Ronald, title=Writing Compilers}
 Book{ISBN=978-0470383285, last=Horstmann, first=Cay, title=Big C++}
 Book{ISBN=978-0471744870, last=Horstmann, first=Cay, title=Object-Oriented Design}
 Book{ISBN=978-0553380163, last=Hawking, first=Stephen, title=A Brief History of Time}
 Book{ISBN=978-1420946338, last=Einstein, first=Albert, title=Relativity: The Special and General Theory}
 Book{ISBN=978-1490592152, last=Newton, first=Isaac, title=The Principia}
  (8  books)

Book list: history

 Book{ISBN=978-0060854935, last=Kennedy, first=John, title=Profiles in Courage}
 Book{ISBN=978-0195144031, last=Kennedy, first=David, title=Freedom from Fear}
 Book{ISBN=978-0345308238, last=Tuchman, first=Barbara, title=The March of Folly: From Troy to Vietnam}
 Book{ISBN=978-0345324252, last=Tuchman, first=Barbara, title=The Zimmermann Telegram}
 Book{ISBN=978-0345476098, last=Tuchman, first=Barbara, title=The Guns of August}
 Book{ISBN=978-0671869205, last=McCullough, first=David, title=Truman}
 Book{ISBN=978-0743226721, last=McCullough, first=David, title=1776}
  (7  books)

Book list: mystery

 Book{ISBN=978-0307743657, last=King, first=Stephen, title=The Shining}
 Book{ISBN=978-0385543026, last=Grisham, first=John, title=Camino Island: A Novel}
 Book{ISBN=978-1501175466, last=King, first=Stephen, title=It: A Novel}
 Book{ISBN=978-9176372265, last=Doyle, first=Conon, title=The Adventures of Sherlock Holmes}
  (4  books)

Book list: childrens

 Book{ISBN=978-0060256654, last=Silverstein, first=Shel, title=The Giving Tree}
 Book{ISBN=978-0439708180, last=Rowling, first=J., title=Harry Potter and the Sorcerer's Stone}
 Book{ISBN=978-0694003617, last=Brown, first=Margaret, title=Goodnight Moon}
  (3  books)

Book list: MERGED

 Book{ISBN=978-0060256654, last=Silverstein, first=Shel, title=The Giving Tree}
 Book{ISBN=978-0060854935, last=Kennedy, first=John, title=Profiles in Courage}
 Book{ISBN=978-0130460417, last=Mak, first=Ronald, title=Java Number Cruncher}
 Book{ISBN=978-0134177304, last=Horstmann, first=Cay, title=Core Java Volume I--Fundamentals}
 Book{ISBN=978-0195144031, last=Kennedy, first=David, title=Freedom from Fear}
 Book{ISBN=978-0307743657, last=King, first=Stephen, title=The Shining}
 Book{ISBN=978-0345308238, last=Tuchman, first=Barbara, title=The March of Folly: From Troy to Vietnam}
 Book{ISBN=978-0345324252, last=Tuchman, first=Barbara, title=The Zimmermann Telegram}
 Book{ISBN=978-0345476098, last=Tuchman, first=Barbara, title=The Guns of August}
 Book{ISBN=978-0385543026, last=Grisham, first=John, title=Camino Island: A Novel}
 Book{ISBN=978-0439708180, last=Rowling, first=J., title=Harry Potter and the Sorcerer's Stone}
 Book{ISBN=978-0470177075, last=Mak, first=Ronald, title=Writing Compilers}
 Book{ISBN=978-0470383285, last=Horstmann, first=Cay, title=Big C++}
 Book{ISBN=978-0471744870, last=Horstmann, first=Cay, title=Object-Oriented Design}
 Book{ISBN=978-0553380163, last=Hawking, first=Stephen, title=A Brief History of Time}
 Book{ISBN=978-0671869205, last=McCullough, first=David, title=Truman}
 Book{ISBN=978-0694003617, last=Brown, first=Margaret, title=Goodnight Moon}
 Book{ISBN=978-0743226721, last=McCullough, first=David, title=1776}
 Book{ISBN=978-1420946338, last=Einstein, first=Albert, title=Relativity: The Special and General Theory}
 Book{ISBN=978-1490592152, last=Newton, first=Isaac, title=The Principia}
 Book{ISBN=978-1501175466, last=King, first=Stephen, title=It: A Novel}
 Book{ISBN=978-9176372265, last=Doyle, first=Conon, title=The Adventures of Sherlock Holmes}
  (22  books)

Book list: Authors A-M

 Book{ISBN=978-0060854935, last=Kennedy, first=John, title=Profiles in Courage}
 Book{ISBN=978-0130460417, last=Mak, first=Ronald, title=Java Number Cruncher}
 Book{ISBN=978-0134177304, last=Horstmann, first=Cay, title=Core Java Volume I--Fundamentals}
 Book{ISBN=978-0195144031, last=Kennedy, first=David, title=Freedom from Fear}
 Book{ISBN=978-0307743657, last=King, first=Stephen, title=The Shining}
 Book{ISBN=978-0385543026, last=Grisham, first=John, title=Camino Island: A Novel}
 Book{ISBN=978-0470177075, last=Mak, first=Ronald, title=Writing Compilers}
 Book{ISBN=978-0470383285, last=Horstmann, first=Cay, title=Big C++}
 Book{ISBN=978-0471744870, last=Horstmann, first=Cay, title=Object-Oriented Design}
 Book{ISBN=978-0553380163, last=Hawking, first=Stephen, title=A Brief History of Time}
 Book{ISBN=978-0671869205, last=McCullough, first=David, title=Truman}
 Book{ISBN=978-0694003617, last=Brown, first=Margaret, title=Goodnight Moon}
 Book{ISBN=978-0743226721, last=McCullough, first=David, title=1776}
 Book{ISBN=978-1420946338, last=Einstein, first=Albert, title=Relativity: The Special and General Theory}
 Book{ISBN=978-1501175466, last=King, first=Stephen, title=It: A Novel}
 Book{ISBN=978-9176372265, last=Doyle, first=Conon, title=The Adventures of Sherlock Holmes}
  (16  books)

Book list: Authors N_Z

 Book{ISBN=978-0060256654, last=Silverstein, first=Shel, title=The Giving Tree}
 Book{ISBN=978-0345308238, last=Tuchman, first=Barbara, title=The March of Folly: From Troy to Vietnam}
 Book{ISBN=978-0345324252, last=Tuchman, first=Barbara, title=The Zimmermann Telegram}
 Book{ISBN=978-0345476098, last=Tuchman, first=Barbara, title=The Guns of August}
 Book{ISBN=978-0439708180, last=Rowling, first=J., title=Harry Potter and the Sorcerer's Stone}
 Book{ISBN=978-1490592152, last=Newton, first=Isaac, title=The Principia}
  (6  books)
</pre>
<span class="pass">pass </span></div>
<p class="header studentFiles">Student files</p>
<div class="studentFiles">
<p class="caption">Book.cpp:</p>
<pre>/***** Complete this file. *****/
#include "Book.h"
#include &lt;iostream&gt;
#include &lt;fstream&gt;
#include &lt;sstream&gt;

using namespace std;

/***** Complete this file. *****/

/**
 * Default Constructor to initialize all the elements in the book class
 */
 Book::Book():isbn(""), last(""), first(""), title("")
 {
 }

/**
 * Constructor to initialize the elements in the book class with given values
 */
Book::Book(string isbn, string last, string first, string title):isbn(isbn), last(last), first(first), title(title)
{
}

/**
 * Default Destructor
 */
Book::~Book()
{
   
}

/**
 * Setter functions to set the values of the elements in the book class
 */
void Book::set_isbn(string isbn)
{
   this-&gt;isbn = isbn;
}
void Book::set_last(string last)
{
   this-&gt;last = last;
   
}
void Book::set_first(string first)
{
   this-&gt;first = first;
}
void Book::set_title(string title)
{
   this-&gt;title = title;
}

/**
 * Getter functions to get the values of the elements in the book class
 */ 
string Book::get_isbn()
{
   return isbn;
}

string Book::get_last()
{
   return last;
}
string Book::get_first()
{
   return first;
}
string Book::get_title()
{
   return title;
}


istream&amp; operator &gt;&gt;(istream&amp; ins, Book&amp; b)
{
   getline (ins, b.isbn, ',');
   getline (ins, b.last, ',');
   getline (ins, b.first, ',');
   getline (ins, b.title);
   
   return ins;
}

ostream&amp; operator &lt;&lt;(ostream&amp; outs, Book b)
{
   outs &lt;&lt; "Book{ISBN=" &lt;&lt; b.get_isbn() &lt;&lt; ", last=" &lt;&lt; b.get_last() &lt;&lt; ", first=" &lt;&lt; b.get_first() &lt;&lt; ", title=" &lt;&lt; b.get_title() &lt;&lt; "}";
   return outs;
}
</pre>
<p class="caption">Book.h:</p>
<pre>#ifndef BOOK_H_
#define BOOK_H_

#include &lt;string&gt;
using namespace std;
/**
 * The Book class.
 */
class Book
{
    /***** Complete this class. *****/

public:

    /**
     * Default constructor.
     */
    Book();

    /**
     * Constructor.
     */
    Book(string isbn, string last, string first, string title);

    /**
     * Destructor.
     */
    ~Book();
    
    /***** Complete the public members. *****/
    /**
     * Defining the accessor functions
     */
    void set_isbn(string isbn);
    void set_last(string last);
    void set_first(string first);
    void set_title(string title);
    
    string get_isbn();
    string get_last();
    string get_first();
    string get_title();
    
    /**
     * Defining the friend functions for operator overloading
     */
    friend istream&amp; operator &gt;&gt;(istream&amp; ins, Book&amp; b);
    friend ostream&amp; operator &lt;&lt;(ostream&amp; outs, Book b);

private:
    
    /***** Complete the private members. *****/
    string isbn, last, first, title;
};

#endif /* BOOK_H_ */
</pre>
<p class="caption">BookList.cpp:</p>
<pre>#include "BookList.h"
#include "BookNode.h"
#include "Book.h"
#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;fstream&gt;
#include &lt;sstream&gt;

using namespace std;

const string MERGED = "MERGED";
const string AUTHORS_AM = "Authors A-M";
const string AUTHORS_NZ = "Authors N_Z";

/**
 * Constructor
 */
BookList::BookList()
    : name(""), head(nullptr), tail(nullptr)
{
}

/**
 * Constructor
 */
BookList::BookList(const string name)
    : name(name), head(nullptr), tail(nullptr)
{
    if(name != MERGED &amp;&amp; name != AUTHORS_AM &amp;&amp; name != AUTHORS_NZ)
    {
      create();
      print();
    }
}

/**
 * Function to create the book list with the category given in the file.
 */
void BookList::create()
{
   ifstream input_cat;
   string file_name = name + ".txt";
   input_cat.open(file_name);
   if (input_cat.fail())
   {
      cout &lt;&lt; "Failed to open " &lt;&lt; file_name &lt;&lt; endl;
   }
    
   Book book;
   input_cat &gt;&gt; book;
   while (!input_cat.fail())
   {
      insertion(book);
      input_cat &gt;&gt; book;
   }
   
   input_cat.close();
}

/**
 * Function to insert the book node in the book list.
 */
void BookList::insertion(Book book)
{
   BookNode *temp_node = new BookNode(book);
   string temp_isbn = book.get_isbn();
   
   // Inserting the node at the head of the list.
   if((head == nullptr) || (temp_isbn &lt; head-&gt;get_book().get_isbn()))
   {
      temp_node = new BookNode(book);
      temp_node-&gt;set_next(head);
      head = temp_node;
      
      if(head-&gt;get_next() == nullptr)
      {
         tail = head;
      }
   }
   
   // Inserting the node in middle of the list.   
   else
   {
      BookNode *p = head;
      BookNode *prev;
      
      while ((p != nullptr) &amp;&amp; (temp_isbn &gt; p-&gt;get_book().get_isbn()))
      {
         prev = p;
         p = p-&gt;get_next();
      }
      
      if ((p == nullptr) || (temp_isbn &lt; p-&gt;get_book().get_isbn()))
      {
         prev-&gt;set_next(temp_node);
         temp_node-&gt;set_next(p);
         
         if (p == nullptr)
         {
            tail = prev;
         }
      }
   }
}

/**
 * Function to print the book list.
 */
void BookList::print()
{
   int number_of_books = 0;
   /***** Complete this function. *****/
   cout &lt;&lt; endl &lt;&lt; "Book list: " &lt;&lt; name &lt;&lt; endl &lt;&lt; endl;
    
   for (BookNode *p = head; p != nullptr; p = p-&gt;get_next())
   {
      cout &lt;&lt; " " &lt;&lt; p-&gt;get_book() &lt;&lt; endl;
      number_of_books++;
   }
   cout &lt;&lt; "  (" &lt;&lt; number_of_books &lt;&lt; "  books)" &lt;&lt; endl;
}

/**
 * Function to merge the book lists to for a single list.
 */
void BookList::merge(vector&lt;string&gt; booklist_categories)
{
   ifstream input_cat;
   BookList* list = new BookList(MERGED);
   int j;
   for(j = 0; j &lt; booklist_categories.size(); j++)
   {
      string file_name = booklist_categories[j] + ".txt";
      input_cat.open(file_name);
      if (input_cat.fail())
      {
         cout &lt;&lt; "Failed to open " &lt;&lt; file_name &lt;&lt; endl;
      }
       
      Book book;
      input_cat &gt;&gt; book;
      while (!input_cat.fail())
      {
         list-&gt;insertion(book);
         input_cat &gt;&gt; book;
      }
      
      input_cat.close();
   }
   list-&gt;print();
   
   list-&gt;split();
}

/**
 * Function to split the book list to form two new lists.
 */
void BookList::split()
{
   BookList *list1 = new BookList(AUTHORS_AM);
   BookList *list2 = new BookList(AUTHORS_NZ);
   
   for(BookNode *p = head; p != nullptr; p = p-&gt;get_next())
   {
      // Creating a list with last name of the authors starting from A to M
      if(p-&gt;get_book().get_last().at(0) &gt;= 'A' &amp;&amp; p-&gt;get_book().get_last().at(0) &lt;= 'M')
      {
         list1-&gt;insertion(p-&gt;get_book());
      }
      // Creating a list with last name of the authors starting from N to Z
      else
      {
         list2-&gt;insertion(p-&gt;get_book());
      }
   }
   list1-&gt;print();
   list2-&gt;print();
}
</pre>
<p class="caption">BookList.h:</p>
<pre>#ifndef BOOKLIST_H_
#define BOOKLIST_H_

#include "BookNode.h"
#include &lt;string&gt;
#include &lt;iostream&gt;
#include &lt;vector&gt;
/**
 * A list of book nodes.
 */
class BookList
{
public:
    /**
     * Constructor.
     */
    BookList();
    /**
     * Constructor.
     * @param name the name of this list.
     */
    BookList(const string name);

    /**
     * Print the list.
     */
    void print();
    /**
     * Creating the list.
     */
    void create();
    /**
     * Inserting nodes in the list.
     */
    void insertion(Book book);
    /**
     * Merging the lists to form a comprehensive list.
     */
    void merge(vector&lt;string&gt; booklist_categories);
    /**
     * Splitting the merged list to set of two lists.
     */
    void split();
    /***** Complete this class. *****/

private:
    string name;      // name of this book list
    BookNode *head;   // head of the list of book nodes
    BookNode *tail;   // tail of the list of book nodes
};

#endif /* BOOKLIST_H_ */
</pre>
<p class="caption">BookListsApp.cpp:</p>
<pre>#include "BookList.h"
#include "Book.h"
#include &lt;string&gt;
#include &lt;iostream&gt;
#include &lt;fstream&gt;
#include &lt;sstream&gt;
#include &lt;vector&gt;

using namespace std;

const string CATEGORIES_FILE_NAME = "categories.txt";

/**
 * The main. Create and print the book lists.
 */
int main()
{
   /***** Complete this main. *****/
   // Open the input file.
   ifstream input;
   input.open(CATEGORIES_FILE_NAME);
   if (input.fail())
   {
      cout &lt;&lt; "Failed to open " &lt;&lt; CATEGORIES_FILE_NAME &lt;&lt; endl;
      return -1;
   }
    
   string category;
   input &gt;&gt; category;
   vector&lt;string&gt; booklist_categories;
   
   while (!input.fail())
   {
      BookList* list = new BookList(category);
      booklist_categories.push_back(category);
      input &gt;&gt; category;
   }
   
   BookList *merged_list = new BookList();
   merged_list-&gt;merge(booklist_categories);
   
   return 0;
}

/***** Complete this file. *****/
</pre>
<p class="caption">BookNode.cpp:</p>
<pre>/***** Complete this file. *****/
#include "BookNode.h"
#include "Book.h"

 /**
   * Constructor.
   */
BookNode::BookNode(Book book)
{
   this-&gt;book = book;
}

 /**
   * Getter function to get the book in the book node
   */
Book BookNode::get_book()
{
   return book;
}

 /**
   * Getter function to get the next link in the book node
   */
BookNode* BookNode::get_next()
{
   return next;
}

 /**
   * Setter function to set the next link in the book node
   */
void BookNode::set_next(BookNode* next)
{
   this-&gt;next = next;
}
</pre>
<p class="caption">BookNode.h:</p>
<pre>#ifndef BOOKNODE_H_
#define BOOKNODE_H_

#include "Book.h"

/**
 * A book node in a linked list.
 */
class BookNode
{
public:
    /**
     * Constructor.
     * @param book this node's book.
     */
    BookNode(Book book);

    /***** Complete this class. *****/
    
    /**
      * Getter function to get the book in the book node
      */
    Book get_book();
    /**
      * Setter function to set the pointer to the next value in the book nodes
      * @param next this node's link to next value.
      */
    void set_next(BookNode* next);
    /**
      * Getter function to get the pointer to the next value in the book nodes
      * @param next this node's link to next value.
      */
    BookNode* get_next();

private:
    Book book;       // this node's book
    BookNode *next;  // link to the next node in the list
};

#endif /* BOOKNODE_H_ */
</pre>
</div>
<p class="header providedFiles">Provided files</p>
<div class="providedFiles">
<p class="caption">categories.txt:</p>
<pre>science
history
mystery
childrens
</pre>
<p class="caption">childrens.txt:</p>
<pre>978-0439708180,Rowling,J.,Harry Potter and the Sorcerer's Stone
978-0060256654,Silverstein,Shel,The Giving Tree
978-0694003617,Brown,Margaret,Goodnight Moon
</pre>
<p class="caption">history.txt:</p>
<pre>978-0195144031,Kennedy,David,Freedom from Fear
978-0345476098,Tuchman,Barbara,The Guns of August
978-0671869205,McCullough,David,Truman
978-0345308238,Tuchman,Barbara,The March of Folly: From Troy to Vietnam
978-0345324252,Tuchman,Barbara,The Zimmermann Telegram
978-0743226721,McCullough,David,1776
978-0345308238,Tuchman,Barbara,The March of Folly: From Troy to Vietnam
978-0060854935,Kennedy,John,Profiles in Courage
</pre>
<p class="caption">mystery.txt:</p>
<pre>978-1501175466,King,Stephen,It: A Novel
978-9176372265,Doyle,Conon,The Adventures of Sherlock Holmes
978-0307743657,King,Stephen,The Shining
978-0385543026,Grisham,John,Camino Island: A Novel
</pre>
<p class="caption">science.txt:</p>
<pre>978-1420946338,Einstein,Albert,Relativity: The Special and General Theory
978-1490592152,Newton,Isaac,The Principia
978-0553380163,Hawking,Stephen,A Brief History of Time
978-0471744870,Horstmann,Cay,Object-Oriented Design
978-0130460417,Mak,Ronald,Java Number Cruncher
978-0470383285,Horstmann,Cay,Big C++
978-0470177075,Mak,Ronald,Writing Compilers
978-0134177304,Horstmann,Cay,Core Java Volume I--Fundamentals
978-1490592152,Newton,Isaac,The Principia
</pre>
</div>
<p class="header score">Score</p>
<div class="score">
<p class="score">1/1</p>
</div>
<div class="footnotes"><div class="footnote">2017-10-19T22:05:08Z</div>
</div>
</body></html>
